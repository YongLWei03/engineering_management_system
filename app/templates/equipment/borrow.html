{% extends "base.html" %}

{% block styles %}
{{ super() }}
<link href="//cdn.bootcss.com/zTree.v3/3.5.24/css/metroStyle/metroStyle.min.css" rel="stylesheet">
<link href="//cdn.bootcss.com/jquery-bootgrid/1.3.1/jquery.bootgrid.min.css" rel="stylesheet">
<link href="../../static/css/jquery-steps.css" rel="stylesheet">
<link href="http://cdn.bootcss.com/jquery-autocomplete/1.0.7/jquery.auto-complete.min.css" rel="stylesheet">
<style>
.main-panel{height:45em;background-color:#fff;}
.tab-pane{width: 80%;margin: 50px auto 30px;}
.form-control{width: 200px;}
</style>
{% endblock %}

{% block content %}
<div id="equipmentBorrow">
    <h3>选择设备</h3>
    <section>
        <div class="">
            <span>借出人员</span>
            <input type="text" name="name" class="form-control" />
        </div>
    </section>
    <h3>选择人员</h3>
    <section>
        <p>选择人员</p>
    </section>
    <h3>借出设备</h3>
    <section>
        <p>借出设备</p>
    </section>
</div>
{% endblock %}

{% block scripts %}
{{ super() }}
<script src="http://cdn.bootcss.com/jquery-steps/1.1.0/jquery.steps.min.js"></script>
<script src="http://cdn.bootcss.com/jquery-autocomplete/1.0.7/jquery.auto-complete.min.js"></script>
<script>
$(document).ready(function(){
    $("#equipmentBorrow").steps({
        headerTag: "h3",
        bodyTag: "section",
        transitionEffect: "slideLeft",
        autoFocus: true
    });

    $('input[name="q"]').autoComplete({
        source: function(term, response){
            $.ajax({
                type: "POST",
                cache : false,
                headers: { "cache-control": "no-cache" },
                url: "/equipment/borrow/select_staff/",
                data: "name_key="+term,
                success: function(data){
                    response(data);
                }
            });
            // $.getJSON('/some/ajax/url/', { q: term }, function(data){ response(data); });
        },
        onSelect: function(e, term, item){
            console.log('Item "'+item.data('langname')+' ('+item.data('lang')+')" selected by '+(e.type == 'keydown' ? 'pressing enter' : 'mouse click')+'.');
        }
    });
})

</script>
{% endblock %}
